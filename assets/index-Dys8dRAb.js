const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Layout-BTWstQbz.js","assets/vendor-1KhO9Br4.js","assets/vendor-router-BuaAtQMK.js","assets/vendor-redux-jjwltitj.js","assets/vendor-bootstrap-CjPjBXCY.js","assets/vendor-bootstrap-HtRMvf9q.css","assets/Cart-B65wWqhG.js","assets/vendor-axios-B9ygI19o.js","assets/Home-DcKBQ8Jt.js","assets/Product-CAnq5W-n.js","assets/Products-DP7OQvd3.js","assets/NotFound-DFEEXZfl.js","assets/AdminLogin-DFhQQfJq.js","assets/AdminProduct-DKgVG8-n.js"])))=>i.map(i=>d[i]);
import{r as c,k as i,G as x,l as P}from"./vendor-1KhO9Br4.js";import{c as j,R as w}from"./vendor-router-BuaAtQMK.js";import{c as S,a as O,u as R,b,P as A}from"./vendor-redux-jjwltitj.js";import"./vendor-bootstrap-CjPjBXCY.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&d(s)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();const D="modulepreload",I=function(t){return"/react-week5/"+t},_={},m=function(n,o,d){let e=Promise.resolve();if(o&&o.length>0){let E=function(l){return Promise.all(l.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");e=E(o.map(l=>{if(l=I(l),l in _)return;_[l]=!0;const p=l.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const u=document.createElement("link");if(u.rel=p?"stylesheet":D,p||(u.as="script"),u.crossOrigin="",u.href=l,a&&u.setAttribute("nonce",a),document.head.appendChild(u),p)return new Promise((L,N)=>{u.addEventListener("load",L),u.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return e.then(s=>{for(const a of s||[])a.status==="rejected"&&r(a.reason);return n().catch(r)})},v=c.createContext(),C=({children:t})=>{const[n,o]=c.useState(!1),d=()=>o(!0),e=()=>o(!1);return i.jsx(v.Provider,{value:{isLoading:n,showLoading:d,hideLoading:e},children:t})};function T({forceShow:t=!1}){const{isLoading:n}=c.useContext(v);return!n&&!t?null:i.jsx("div",{className:"loading-overlay",children:i.jsxs("div",{className:"loading-container",children:[i.jsx(x,{height:"100",width:"100",color:"#0d6efd",secondaryColor:"#0d6efd",radius:"12.5",ariaLabel:"mutating-dots-loading",wrapperStyle:{},wrapperClass:"",visible:!0}),i.jsx("p",{className:"loading-text",children:"載入中..."})]})})}const z=c.lazy(()=>m(()=>import("./Layout-BTWstQbz.js"),__vite__mapDeps([0,1,2,3,4,5]))),V=c.lazy(()=>m(()=>import("./Cart-B65wWqhG.js"),__vite__mapDeps([6,1,7,4,5,2,3]))),$=c.lazy(()=>m(()=>import("./Home-DcKBQ8Jt.js"),__vite__mapDeps([8,1]))),k=c.lazy(()=>m(()=>import("./Product-CAnq5W-n.js"),__vite__mapDeps([9,1,7,4,5,2,3]))),q=c.lazy(()=>m(()=>import("./Products-DP7OQvd3.js"),__vite__mapDeps([10,1,7,4,5,2,3]))),U=c.lazy(()=>m(()=>import("./NotFound-DFEEXZfl.js"),__vite__mapDeps([11,1,2]))),B=c.lazy(()=>m(()=>import("./AdminLogin-DFhQQfJq.js"),__vite__mapDeps([12,1,2,7,3,4,5]))),F=c.lazy(()=>m(()=>import("./AdminProduct-DKgVG8-n.js"),__vite__mapDeps([13,1,2,7,4,5,3]))),f=t=>i.jsx(c.Suspense,{fallback:i.jsx(T,{forceShow:!0}),children:i.jsx(t,{})}),G=[{path:"/",element:f(z),children:[{index:!0,element:f($)},{path:"products",element:f(q)},{path:"product/:id",element:f(k)},{path:"cart",element:f(V)}]},{path:"login",element:f(B)},{path:"admin/product",element:f(F)},{path:"*",element:f(U)}],H={messages:[]},y=S({name:"notification",initialState:H,reducers:{addNotification(t,n){const{message:o,type:d="info",id:e}=n.payload;t.messages.push({id:e||Date.now(),message:o,type:d,timestamp:new Date().toISOString()})},removeNotification(t,n){t.messages=t.messages.filter(o=>o.id!==n.payload)},clearNotifications(t){t.messages=[]}}}),{addNotification:M,removeNotification:g,clearNotifications:oe}=y.actions,K=y.reducer,W=O({reducer:{notification:K}}),J=()=>{const t=R();return{notifications:b(e=>e.notification.messages),showNotification:(e,r="info",s=null)=>{const a=Date.now();return t(M({id:a,message:e,type:r})),s&&setTimeout(()=>{t(g(a))},s),a},hideNotification:e=>{t(g(e))}}},Q=()=>{const{notifications:t,hideNotification:n}=J();return i.jsx("div",{className:"notification-container",children:t.map(o=>i.jsx("div",{className:`notification notification-${o.type}`,role:"alert",children:i.jsxs("div",{className:"notification-content",children:[i.jsx("span",{className:"notification-message",children:o.message}),i.jsx("button",{className:"notification-close",onClick:()=>n(o.id),"aria-label":"Close notification",children:"✕"})]})},o.id))})},X=j(G);P.createRoot(document.getElementById("root")).render(i.jsx(A,{store:W,children:i.jsxs(C,{children:[i.jsx(Q,{}),i.jsx(w,{router:X})]})}));export{T as L,v as a,J as u};
