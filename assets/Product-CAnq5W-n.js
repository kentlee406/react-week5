import{r as c,k as t}from"./vendor-1KhO9Br4.js";import{a as i}from"./vendor-axios-B9ygI19o.js";import"./vendor-bootstrap-CjPjBXCY.js";import{a as x,u as g}from"./index-Dys8dRAb.js";import{u as j}from"./vendor-router-BuaAtQMK.js";import"./vendor-redux-jjwltitj.js";const r="https://ec-course-api.hexschool.io/v2",n="kentlee406";function b(){const[s,d]=c.useState({}),{id:o}=j(),{showLoading:l,hideLoading:p}=c.useContext(x),{showNotification:e}=g(),m=async()=>{try{l();const a=await i.get(`${r}/api/${n}/product/${o}`);d(a.data.product)}catch{e("取得產品資訊失敗，請稍後再試","error",8e3)}finally{p()}},u=async()=>{try{const a={data:{product_id:o,qty:1}};await i.post(`${r}/api/${n}/cart`,a),e("產品已新增至購物車","success",6e3)}catch{e("新增購物車失敗，請稍後再試","error",8e3)}};return c.useEffect(()=>{m()},[]),t.jsxs("div",{children:[t.jsx("img",{src:s.imageUrl,className:"card-img-top",alt:s.title,style:{height:"50vh",width:"auto"}}),t.jsxs("h2",{children:[s.title,t.jsx("span",{className:"badge bg-primary ms-2",children:s.category})]}),t.jsxs("p",{children:["產品內容：",s.content]}),t.jsxs("p",{children:["產品描述：",s.description]}),t.jsxs("p",{children:["單位：",s.unit]}),t.jsxs("p",{children:[t.jsx("del",{children:s.origin_price})," 元 / ",s.price," 元"]}),t.jsxs("div",{className:"row g-2",children:[" ",s.imagesUrl?.map((a,h)=>t.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:t.jsx("img",{src:a,alt:"小圖",className:"img-fluid w-100",style:{objectFit:"cover",aspectRatio:"1/1"}})},h))]}),t.jsx("input",{type:"button",className:"btn btn-primary",value:"加入購物車",onClick:u})]})}export{b as default};
