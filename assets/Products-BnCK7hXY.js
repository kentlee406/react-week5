import{r as t,k as s}from"./vendor-1KhO9Br4.js";import{a as l}from"./vendor-axios-B9ygI19o.js";import"./vendor-bootstrap-CjPjBXCY.js";import{a as d,u as m}from"./index-C_e115xw.js";import{L as x}from"./vendor-router-BuaAtQMK.js";import"./vendor-redux-jjwltitj.js";const h="https://ec-course-api.hexschool.io/v2",p="kentlee406";function y(){const[a,i]=t.useState([]),{showLoading:r,hideLoading:c}=t.useContext(d),{showNotification:o}=m(),n=async()=>{try{r();const e=await l.get(`${h}/api/${p}/products/all`);i(e.data.products)}catch{o("取得產品列表失敗，請稍後再試","error",8e3)}finally{c()}};return t.useEffect(()=>{n()},[]),s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:"產品列表"}),s.jsx("div",{className:"cards",children:s.jsx("div",{className:"row g-4",children:a&&a.length>0?a.map(e=>s.jsx("div",{className:"col-4",children:s.jsxs("div",{className:"card",children:[s.jsx("img",{src:e.imageUrl,className:"card-img-top",alt:e.title}),s.jsxs("div",{className:"card-body",children:[s.jsxs("h5",{className:"card-title",children:[s.jsx(x,{to:`/product/${e.id}`,children:e.title}),s.jsx("span",{className:"badge bg-primary ms-2",children:e.category})]}),s.jsxs("div",{className:"d-flex",children:[s.jsx("p",{className:"card-text text-secondary",children:s.jsx("del",{children:e.origin_price})})," 元 / ",e.price," 元"]})]})]})},e.id)):"目前尚無產品資料"})})]})}export{y as default};
